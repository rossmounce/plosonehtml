# Finding Phylogenetic Figure Captions & Figures in PLOS ONE articles

## Author: 
Ross Mounce, University of Bath

## Operating System and specific software tools used in this article
Ubuntu Linux 14.04 LTS, *grep*, *tr*, *sed*, *wget*, *awk*, *mv*, *mmv*

## Aim:

We want to automate the process of determining if a figure caption of a scientific paper relates to a phylogenetic tree figure (image). We will start-off approaching this as a binary classification problem; either the figure caption relates to a phylogenetic tree in the corresponding figure image (scored as '1'), or it does not (scored as '0'). This will help identify the figure images for which further processing is applicable, downstream, to attempt to convert (only) phylogenetic tree images back into open, immediately re-usable, machine-readable data. 


## Method:

Legally-obtain full text articles from the PLOS ONE website corresponding to the first 2000 articles published.

For this I simply iterated n+1 from the first PLOS ONE article published:
http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0000001
http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0000002
http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0002000

Eight numbers are not used by PLOS ONE in the range 1-2000, so I iterated to 0002008 to get 2000 articles:
* journal.pone.0000084
* journal.pone.0000951
* journal.pone.0000976
* journal.pone.0001140
* journal.pone.0001307
* journal.pone.0001432
* journal.pone.0001509
* journal.pone.0001726

According to Cameron Neylon [here](http://blogs.plos.org/opens/2014/03/09/best-practice-enabling-content-mining/) PLOS requires a 30 second crawl delay between downloads, so one can implement this with wget -w 30
```
wget -w 30 -i first-2000-PLOSONE-articles.txt
```


Tidying up:
```
mmv 'info_doi%2F10.1371%2Fjournal\.*' '#1.html'
mkdir 2000-HTML-articles
mv *.html 2000-HTML-articles/
```

## Parsing-out article data

The title of each article can be obtained from line 19 of each HTML file.
```
ls *.html | sed 's@\.html@@' > ../articleIDs.txt 
ls *.html | xargs awk "FNR==19" | sed -e 's@<title>PLOS ONE:@@' -e 's@</title>@@' > ../titles.txt
ls *.html | xargs grep -h -m1 'name=\"citation_author\"' | sed -e 's@<meta name="citation_author" content="@@' -e 's@"/>@@' > ../firstauthors.txt
```

